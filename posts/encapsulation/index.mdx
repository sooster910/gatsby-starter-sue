---
title: OOP Encapsulation in JavaScript
slug: encapsulation
author: Hyunsu Joo
published: 2021-05-20
lastUpdated: 2021-05-20
draft: false
image: ./encapsulation.png
imageAlt: encapsulation
tags: ['OOP', JavaScript]
---

- ì´ í¬ìŠ¤íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ê°ì²´ì§€í–¥ì„ ê³µë¶€í•˜ë©´ì„œ ì ì€ ë…¸íŠ¸ ì…ë‹ˆë‹¤. ë°œì „í•˜ëŠ” ê°œë°œìê°€ ë  ìˆ˜ ìˆë„ë¡ ì„¤ëª…ì´ ì˜ëª»ë˜ì—ˆë‹¤ê±°ë‚˜ ì¡°ê¸ˆ ë” ë³´ì¶©ì„¤ëª…ì´ í•„ìš”í•˜ì‹œë‹¤ê³  ìƒê°ë˜ì‹œë©´ ëŒ“ê¸€ ë‚¨ê²¨ ì£¼ì„¸ìš”. ì–¸ì œë“ ì§€ í™˜ì˜ì…ë‹ˆë‹¤ ğŸ˜„

ìº¡ìŠí™”ëŠ” ìœ„ ì´ë¯¸ì§€ì˜ ìº¡ìŠê³¼ ê°™ì´ í´ë˜ìŠ¤ ë‚´ì—ì„œ ë°ì´í„°ì™€ í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•´ ì‘ë™í•˜ëŠ” ë©”ì„œë“œë¥¼ ë²ˆë“¤ë¡œ ë¬¶ì–´ ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.ì¦‰, í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ í´ë˜ìŠ¤ ë‚´ì— ìˆëŠ” ë©¤ë²„ ë³€ìˆ˜ì— ì ‘ê·¼ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
ë§ˆì¹˜ ë‚´ ê°€ë°©ì€ ì˜¤ì§ ë‚˜ë§Œ ì†ëŒˆ ìˆ˜ ìˆê³  ë‹¤ë¥¸ ì‚¬ëŒì´ ì† ëŒˆ ìˆ˜ ì—†ëŠ” ê±°ë‚˜ ë§ˆì°¬ê°€ì§€ ë¼ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ì•ˆê³  ìˆìŠµë‹ˆë‹¤.

## ìº¡ìŠí™” êµ¬í˜„

**í´ë˜ìŠ¤ íƒ€ì… ê¸°ë°˜ì˜ ê°ì²´ ì§€í–¥ ì–¸ì–´(ìë°”)**ëŠ”

1 . `private` ì´ë¼ëŠ” í‚¤ì›Œë“œë¥¼ í´ë˜ìŠ¤ ë‚´ë¶€ ì—ì„œë§Œ ì“¸ ìˆ˜ ìˆëŠ” ì•„ì£¼ privateí•œ í´ë˜ìŠ¤ ë©¤ë²„ë¼ê³  ëª…ì‹œì ìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
2 . getterì™€ setterë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•

**í”„ë¡œí†  íƒ€ì… ê¸°ë°˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ”** ES2019(ES10)ì´ ë‚˜ì˜¤ê¸° ì „ê¹Œì§„ privateë¼ëŠ” í‚¤ì›Œë“œê°€ ì œê³µë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ **getter/setter,Closuresë¥¼ ì‚¬ìš©**í•˜ì—¬ ì€ë‹‰ì„±ì„ ê°€ì§€ëŠ” ë¡œì§ì„ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.ES2019 (ES10) ì´ ë˜ì–´ì„œì•¼ Private í•„ë“œê°€ ì œê³µë˜ì–´ì¡Œê³  [browser compatibility]('https://developer.cdn.mozilla.net/ko/docs/Web/JavaScript/Reference/Classes/Private_class_fields')ëŠ” Node.js 12, Chrome 74, and Babel ì…ë‹ˆë‹¤.

### **1. getter/setter**

getterì™€ setterë¥¼ ì´ìš©í•˜ì—¬ íŠ¹ì • í”„ë¡œí¼í‹°ì˜ ì ‘ê·¼ì„ ë°”ë¡œ ì ‘ê·¼ í•˜ì§€ ì•Šê³  ìš°íšŒì ìœ¼ë¡œ getterê³¼ setterë¥¼ ì´ìš©í•˜ì—¬ ì ‘ê·¼ í•©ë‹ˆë‹¤. ì™„ë²½í•œ ìº¡ìŠí™”ëŠ” ì•„ë‹ˆì§€ë§Œ í”„ë¡œê·¸ë¨ì˜ ì•ˆì „ì„± ë†’ì•„ì§€ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

```javascript
class User {
  constructor(lastName, email) {
    this.email = email //ì—¬ê¸°ì„œì˜ thisëŠ” constructor functionìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆëŠ” í•´ë‹¹ ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.
    this.lastName = lastName
  }

  get email() {
    return `Email Address is  ${this._email}`
  }

  set email(address) {
    if (!address.includes('@')) {
      throw new Error(`invalid email: ${address}email should have a @`)
    }
    this._email = address
  }
}

const user2 = new User('user1@gmail.com', 'sue')
console.log((user2.email = 'user2gmail.com')) //ë°”ë¡œ ì ‘ê·¼ê°€ëŠ¥ && ìˆ˜ì • ê°€ëŠ¥

console.log(user2)
```

setter,getterëŠ” ì™¸ë¶€ë¡œë¶€í„° ì›í•˜ì§€ ì•ŠëŠ” ì¡°ê±´ì„ ê°€ì§„ ë°ì´í„°ê°€ ë“¤ì–´ì˜¬ ë•Œ ì™¸ë¶€ì—ê²Œ ì›í•˜ì§€ ì•ŠëŠ” ì´ìœ ì™€ í•¨ê»˜ ë‹¤ì‹œ ì™¸ë¶€ë¡œ ëŒë ¤ ë³´ë‚¼ ìˆ˜ ìˆëŠ” ì—­í• ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.

User í´ë˜ìŠ¤ë¥¼ newë¼ëŠ” í‚¤ì›Œë“œë¥¼ ì´ìš©í•´ ê°ì²´ë¥¼ ìƒì„±í•˜ì˜€ê³  `user2`ë¼ëŠ” ì°¸ì¡° ë³€ìˆ˜ì— í• ë‹¹ë˜ì—ˆìŠµë‹ˆë‹¤. ë§Œì•½ getter ì™€ setterë¥¼ ì“°ì§€ ì•Šìœ¼ë©´, user.emailì— ë°”ë¡œ ì§ì ‘ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ì—¬ ì‹¤ì œ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹Œ 999-999-9999 ì™€ ê°™ì€ ë‹¤ë¥¸ í˜•ì‹ì˜ ê°’ë“¤ì„ ë„£ì„ ìˆ˜ ë„ ìˆìŠµë‹ˆë‹¤.

ì´ëŸ° ìƒí™©ì„ ë°©ì§€í•˜ê³ ì set email(address) ì—ì„œ ì™¸ë¶€ì˜ ë°ì´í„° addressë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê³  ë§Œì•½ addressì— @ê°€ í¬í•¨ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ errorë¥¼ @ê°€ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šë‹¤ë¼ëŠ” ì´ìœ ì™€ í•¨ê»˜ ì™¸ë¶€ì— ë‹¤ì‹œ ë˜ì ¸ ì‚¬ìš©ì or ë‹¤ë¥¸ ë””ë²¨ë¡œí¼ë“¤ì´ ì•Œ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

ì—¬ê¸°ì„œ setterì™€ getterëŠ” ì‚¬ìš©ì ë˜ëŠ” ë‹¤ë¥¸ ë””ë²¨ë¡œí¼ì˜ ê´€ì ì—ì„  ì—¬ì „íˆ ê°ì²´ì˜ ì†ì„±ì— ëŒ€í•œ ì ‘ê·¼(access)ëŠ” ê°€ëŠ¥í•©ë‹ˆë‹¤. `user2.email = "aaagmail.com"` í•˜ì§€ë§Œ setter ë‚´ì˜ ë¡œì§ì— ì˜í•´ ì¡°ê±´ì´ ë§ì§€ ì•Šë‹¤ë©´ ìˆ˜ì •ì€ ë¶ˆê°€ëŠ¥ í•©ë‹ˆë‹¤. ì´ëŸ° ë°©ë²•ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì— ì˜ë„ëœ ë¡œì§ê³¼ ë§ëŠ” ë°ì´í„° ë“¤ë¡œë§Œ ìº¡ìŠí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2. **Closures**

í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ë©´ ë” ì™„ë²½í•˜ê²Œ ë©¤ë²„ë³€ìˆ˜ë¥¼ privateí•˜ê²Œ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•˜ì§€ ëª»í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í´ë¡œì €ë€ MDNì— ì˜í•˜ë©´,

> In other words, a closure gives you access to an outer functionâ€™s scope from an inner function. In JavaScript, closures are created every time a function is created, at function creation time.
>
> [ë°œì·Œ : MDN Closures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)

inner functionì—ì„œ outer function ìŠ¤ì½”í”„ì— ì ‘ê·¼ê°€ëŠ¥í•œ ê²ƒì„ closureë¼ê³  ì •ì˜ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ° êµ¬ì¡°ëŠ” function ì•ˆì— functionì´ ì •ì˜ ëœ êµ¬ì¡°ì…ë‹ˆë‹¤.
ë°”ê¹¥ìŠ¤ì½”í”„ì— ì ‘ê·¼ ê°€ëŠ¥ í•œ í´ë¡œì €ë‘ ìº¡ìŠí™”ëŠ” ì–´ë–¤ ê´€ê³„ê°€ ìˆì„ê¹Œìš”? ìº¡ìŠí™”ì˜ ê°€ì¥ ì˜ë¯¸ìˆëŠ” ëª©ì ì¸ ì™¸ë¶€ì—ì„œ í´ë˜ìŠ¤ ë‚´ì— ìˆëŠ” ë©¤ë²„ ë³€ìˆ˜ì— ì ‘ê·¼ í•  ìˆ˜ ì—†ëŠ” ê²ƒì„ ë‹¬ì„±í•˜ëŠ”ë° í´ë¡œì €ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
í´ë¡œì €ì˜ êµ¬ì¡°ì¸ í•¨ìˆ˜ì•ˆì˜ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

constructor function

```javascript
function User(email, lastName) {
  this.lastName = lastName //public memeber
  let _email = email //private member

  this.getEmail = function () {
    return _email
  }
  this.setEmail = function () {
    _email = email
  }
}

const user1 = new User('a@gmail.com', 'sue')
console.log(user1.lastName) //sue public member variable
console.log(user1.getEmail()) //a@gmail.com  public member function
console.log(user1._email) // undefined

user1.setEmail('b@gmail.com')
console.log(user1.getEmail()) // b@gmail.com
```

ì—¬ê¸°ì„œ public ë©”ì„œë“œì¸ getName(),setName()ê°€ í´ë¡œì € ì—­í• ì„ í•˜ê²Œë©ë‹ˆë‹¤. getEmail(),setEmail() ì—ì„œ \_email ì„ parameterë¡œ ë³´ë‚´ì§€ ì•Šì•˜ìŒì—ë„, ë°”ê¹¥ í•¨ìˆ˜ì˜ ìŠ¤ì½”í”„ì— ìˆëŠ” \_emailì´ë€ ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ì‹ë³„ì í•´ê²°ì„ ìœ„í•´ ë‹¨ê³„ì ìœ¼ë¡œ ì™¸ë¶€ìŠ¤ì½”í”„ë¥¼ ì°¸ì¡°í•˜ëŠ”ë° \_emailë³€ìˆ˜ë¥¼ ì™¸ë¶€ìŠ¤ì½”í”„ì—ì„œ ì°¸ì¡°í•œ ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ public ë©¤ë²„ í•¨ìˆ˜, ìœ„ì˜ ì½”ë“œ ë² ì´ìŠ¤ì—ì„  getEmail()ê³¼ setEmail()ì´ í´ë¡œì €ê°€ ë˜ë©´ì„œ privateì˜ ë³€ìˆ˜ì¸ \_emailì„ ì°¸ì¡°í•˜ê²Œë©ë‹ˆë‹¤.

getEmail()ê³¼ setEmail() í•¨ìˆ˜ëŠ” thisê°ì²´ì˜ í”„ë¡œí¼í‹°ë¡œ ì„ ì–¸í•˜ì˜€ìœ¼ë¯€ë¡œ, ì™¸ë¶€ì—ì„œ new í‚¤ì›Œë“œë¡œ ìƒì„±í•œ ê°ì²´ë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ publicì ‘ê·¼ì´ ê°€ëŠ¥í•œ ê²ƒì´ê³ , ë°˜ë©´ \_email ë³€ìˆ˜ë¥¼ ê°ì²´ì— í”„ë¡œí¼í‹°ë¡œ ì§ì ‘ ì ‘ê·¼í•˜ë ¤ í•  ë•ŒëŠ”, `console.log(user.email)` `undefined` ë¥¼ ë¦¬í„´í•˜ë©° ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ í•  ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ì—¬ ì™¸ë¶€ì˜ ì ‘ê·¼ì„ ì°¨ë‹¨í•˜ì—¬ ë©¤ë²„ ë³€ìˆ˜ì˜ ì€ë‹‰ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ES06 ì—ì„œ Classë¥¼ ì‚¬ìš©í•œ ë²„ì „ì…ë‹ˆë‹¤.

```javascript
class User {
  constructor(email, lastName) {
    let _email = email
    this.lastName = lastName
  }

  set email(email) {
    if (!email.includes('@')) {
      throw new Error(`invalid email: ${email}email should have a @`)
    }
    this._email = email
  }
}

const user1 = new User('a@gmail.com', 'sue')
console.log(user1.lastName) //sue public member variable
console.log(user1.email) //a@gmail.com  public member function
console.log(user1._email) // undefined

console.log((user1.email = 'b@gmail.com'))
console.log(user1.email) // b@gmail.com
```

### **3. private fields**

í•´ì‰¬(#)ë¥¼ ì¶”ê°€í•´ private class í•„ë“œë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤.

```javascript
class User {
  #lastName = ''
  #firstChar = ''

  constructor(lastName, email) {
    this.#lastName = lastName
    this.email = email
  }

  returnFirstChar() {
    return (this.#firstChar = this.#lastName.charAt(0))
  }

  get nickName() {
    return this.returnFirstChar()
  }
}

const user = new User('sue', 'user@gmail.com') //ì¸ìë¥¼ ë„£ì§€ ì•Šìœ¼ë©´ undefined ë¡œ ë¦¬í„´í•œë‹¤.
console.log(user.email) //user@gmail.com <--public
console.log(user.#lastName) //âŒ SyntaxError: Private field '#lastName' must be declared in an enclosing class
console.log(user.nickName) //s
console.log((user.#lastName = 'kelly')) //âŒ  SyntaxError
```

ìƒì„±ì (constructor)ì—ì„œ ë§¤ê°œë³€ìˆ˜ë¡œ lastName ì„ ë°›ì•„ private ì†ì„±ìœ¼ë¡œ ì§€ì •í•¨ìœ¼ë¡œì¨ ì™¸ë¶€ì—ì„œ `user.#lastName` ìœ¼ë¡œ ì§ì ‘ ì ‘ê·¼í•˜ë©´ ì—ëŸ¬ë¥¼ ë‚´ë³´ì…ë‹ˆë‹¤. `#private` ëŠ” ìœ„ì—ì„œ ì†Œê°œí•œ ë°©ë²•ë“¤ ë³´ë‹¤ ì¢€ ë” ëª…ì‹œì ì´ë©° ë©¤ë²„ ë³€ìˆ˜ì— ëŒ€í•œ ì™„ë²½í•œ ì€ë‹‰ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì…ë‹ˆë‹¤. private ì‚¬ìš©ë²•ì— ëŒ€í•´ ì¢€ ë” ì•Œê³ ì‹¶ë‹¤ë©´ [MDN Private class fields](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields)ë¥¼ ì°¸ê³  í•˜ì„¸ìš”.

---

ì°¸ê³ ìë£Œ

- [ë„ì„œ - ì†¡í˜•ì£¼/ê³ í˜„ì¤€, ì¸ì‚¬ì´ë“œ ìë°”ìŠ¤í¬ë¦½íŠ¸, í•œë¹› ë¯¸ë””ì–´ ]
- [MDN Closures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)
- [How to create private members in a JavaScript Class](https://javascript.plainenglish.io/private-member-in-javascript-class-2359ef666aaf)
- [data-flair.training Java](https://data-flair.training/blogs/encapsulation-in-java/)
- [mychoë‹˜ì˜ Javascriptì˜ OOP ë¸”ë¡œê·¸](https://blog.naver.com/mycho/221834436536)
